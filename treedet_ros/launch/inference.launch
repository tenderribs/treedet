<?xml version="1.0" encoding="UTF-8"?>
<launch>
	<arg name="gui" default="true" />
	<arg name="rviz_config_file" default="$(find treedet_ros)/rviz/view_dets.rviz" />

	<!-- Load description -->
	<include file="$(find harveri_description)/launch/load.launch" />

	<!-- run self-filtering on lidar pcl -->
	<!-- doesn't really work atm. -->
	<!-- <include file="$(find harveri_mapping)/launch/harveri_self_see_filter.launch" /> -->

	<!-- Launch visualization -->
	<include file="$(find harveri_rviz)/launch/tf_publisher.launch" />

	<!-- Launch tree_detection node -->
	<!-- <node pkg="treedet_ros" name="treedet_ros" type="inference.py" output="screen" /> -->
	<node if="$(arg gui)" name="rviz_tree_detection" pkg="rviz" type="rviz" args="-d $(arg rviz_config_file)" required="true"/>

	<!-- Use estimators-->
	<!-- harveri_estimator finicky with message MD5 hash, changed in finland ds -->
	<include file="$(find asop_se)/launch/compslam_lio.launch" />
	<!-- <include file="$(find harveri_estimator)/launch/harveri_estimator.launch"/> -->
</launch>